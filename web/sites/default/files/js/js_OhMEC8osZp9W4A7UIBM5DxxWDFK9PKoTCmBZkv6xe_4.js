/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){'use strict';Drupal.behaviors.facetsFilter={attach:function(context){$(once('js-facet-filter','.js-facets-widget',context)).on('facets_filter.facets',function(event,url){$('.js-facets-widget').trigger('facets_filtering');window.location=url;});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.facets=Drupal.facets||{};Drupal.behaviors.facetsCheckboxWidget={attach:function(context){Drupal.facets.makeCheckboxes(context);}};window.onbeforeunload=function(e){if(Drupal.facets){var $checkboxWidgets=$('.js-facets-checkbox-links, .js-facets-links');if($checkboxWidgets.length>0)$checkboxWidgets.each(function(index,widget){var $widget=$(widget);var $widgetLinks=$widget.find('.facet-item > a');$widgetLinks.each(Drupal.facets.updateCheckbox);});}};Drupal.facets.makeCheckboxes=function(context){var $checkboxWidgets=$(once('facets-checkbox-transform','.js-facets-checkbox-links, .js-facets-links',context));if($checkboxWidgets.length>0)$checkboxWidgets.each(function(index,widget){var $widget=$(widget);var $widgetLinks=$widget.find('.facet-item > a');$widget.addClass('js-facets-widget');$widgetLinks.each(Drupal.facets.makeCheckbox);Drupal.attachBehaviors(this.parentNode,Drupal.settings);});$('.facet-item--expanded.facet-item--active-trail > input').prop('indeterminate',true);};Drupal.facets.makeCheckbox=function(){var $link=$(this);var active=$link.hasClass('is-active');var description=$link.html();var href=$link.attr('href');var id=$link.data('drupal-facet-item-id');var type=$link.data('drupal-facet-widget-element-class');var checkbox=$('<input type="checkbox">').attr('id',id).attr('name',$(this).closest('.js-facets-widget').data('drupal-facet-filter-key')+'[]').addClass(type).val($link.data('drupal-facet-filter-value')).data($link.data()).data('facetsredir',href);var single_selection_group=$(this).data('drupal-facet-single-selection-group');if(single_selection_group)checkbox.addClass(single_selection_group);if(type==='facets-link')checkbox.hide();var label=$('<label for="'+id+'">'+description+'</label>');checkbox.on('change.facets',function(e){e.preventDefault();var $widget=$(this).closest('.js-facets-widget');Drupal.facets.disableFacet($widget);$widget.trigger('facets_filter',[href]);});if(active){checkbox.prop('checked',true);label.addClass('is-active');label.find('.js-facet-deactivate').remove();}$link.before(checkbox).before(label).hide();};Drupal.facets.updateCheckbox=function(){var $link=$(this);var active=$link.hasClass('is-active');if(!active)$link.parent().find('input.facets-checkbox').prop('checked',false);};Drupal.facets.disableFacet=function($facet){$facet.addClass('facets-disabled');$('input.facets-checkbox, input.facets-link',$facet).click(Drupal.facets.preventDefault);$('input.facets-checkbox, input.facets-link',$facet).attr('disabled',true);};Drupal.facets.preventDefault=function(e){e.preventDefault();};})(jQuery,Drupal,once);;
